<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Reflex Test</title><style>*{margin:0;padding:0;font-family:sans-serif}.lights{position:absolute;top:50%;left:25%;transform:translate(-50%,-50%)}.light{width:80px;height:80px;border:3px solid #000;border-radius:50%;margin:15px 0}.on{background-color:#36e636}.desc{position:absolute;left:60%;top:50%;transform:translate(-50%,-50%);font-size:18px;margin:1rem;line-height:1.4}.time{font-size:90px}time.anim{animation:bang .1s cubic-bezier(.23,1,.32,1)}@keyframes bang{from{transform:scale(2)}}</style></head><body><div class="lights"><div class="light1 light"></div><div class="light2 light"></div><div class="light3 light"></div><div class="light4 light"></div><div class="light5 light"></div></div><div class="desc"><p>Click anywhere when you're ready to race,<br>then click again when the lights go out.</p><div class="time">00.000</div><div class="best">Your best:<span>00.000</span></div></div><script>const lights=Array.prototype.slice.call(document.querySelectorAll(".light")),time=document.querySelector(".time"),best=document.querySelector(".best span");let raf,timeout,bestTime=Number(localStorage.getItem("best"))||1/0,started=!1,lightsOutTime=0;function formatTime(t){let e=(t=Math.round(t))/1e3;for(t<1e4&&(e="0"+e);e.length<6;)e+="0";return e}function start(){for(const t of lights)t.classList.remove("on");time.textContent="00.000",time.classList.remove("anim"),lightsOutTime=0;const t=performance.now();raf=requestAnimationFrame((function e(s){const o=Math.floor((s-t)/1e3)+1;if(o>0)for(const t of lights.slice(0,o))t.classList.add("on");if(o<5)raf=requestAnimationFrame(e);else{const t=4e3*Math.random()+1e3;timeout=setTimeout((()=>{for(const t of lights)t.classList.remove("on");lightsOutTime=performance.now()}),t)}}))}function end(t){if(cancelAnimationFrame(raf),clearTimeout(timeout),!lightsOutTime)return time.textContent="Jump start!",void time.classList.add("anim");{const e=t-lightsOutTime;time.textContent=formatTime(e),e<bestTime&&(bestTime=e,best.textContent=time.textContent,localStorage.setItem("best",e)),time.classList.add("anim")}}function tap(t){let e=performance.now();!started&&t.target&&t.target.closest&&t.target.closest("a")||(t.preventDefault(),started?(end(e),started=!1):(start(),started=!0))}bestTime!=1/0&&(best.textContent=formatTime(bestTime)),addEventListener("touchstart",tap,{passive:!1}),addEventListener("mousedown",(t=>{0===t.button&&tap(t)}),{passive:!1}),addEventListener("keydown",(t=>{" "==t.key&&tap(t)}),{passive:!1}),navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js");</script></body></html>